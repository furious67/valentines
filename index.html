<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Be My Valentine?</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&display=swap');
    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

    body {
      margin: 0;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, #c7e8c2, #e8f5e6);
      font-family: 'Comic Neue', 'Comic Sans MS', 'Comic Sans', cursive, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      overflow: hidden;
      transition: background 0.5s ease;
    }

    .card { background: white; padding: 2rem 1.5rem; border-radius: 20px; text-align: center; width: min(90vw, 360px); box-shadow: 0 20px 40px rgba(0,0,0,0.15); transition: all 0.5s ease; }
    h1 { margin-bottom: 1.5rem; font-size: 1.6rem; color: #000; }

    .buttons { position: relative; height: 140px; }
    button { position: absolute; padding: 0.8rem 1.4rem; font-size: 1rem; border-radius: 999px; border: none; cursor: pointer; touch-action: manipulation; z-index: 10; transition: transform 0.3s ease; }
    #yes { background: #e63946; color: white; left: 50%; transform: translateX(-50%); bottom: 0; }
    #no { background: #f1f1f1; color: #333; left: 50%; transform: translateX(-50%); top: 0; }

    .love { font-size: 1.4rem; color: #e63946; margin-top: 1rem; }

    .gif-container { display: none; position: relative; width: 100%; height: 100%; text-align: center; }
    .gif-container img { max-width: 90vw; max-height: 90vh; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.25); }
    .gif-subtext { position: absolute; top: 30%; width: 100%; color: #e63946; font-size: 2rem; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }

    .confetti { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; overflow: hidden; z-index: 1000; }
    .confetti-piece { position: absolute; width: 10px; height: 10px; opacity: 0.7; animation: fall 3s linear infinite; }
    @keyframes fall { 0% {transform: translateY(0) rotate(0deg);} 100% {transform: translateY(100vh) rotate(360deg);} }
  </style>
</head>
<body>
  <div class="card" id="mainCard">
    <h1>michele, will you be my valentine? ðŸ’˜</h1>
    <div class="buttons">
      <button id="no">No</button>
      <button id="yes">Yes ðŸ’•</button>
    </div>
    <div id="response" class="love" style="display:none;"></div>
  </div>

  <div class="gif-container" id="gifPage">
    <div class="gif-subtext">YAY! ðŸŽ‰ðŸŽ‰ðŸŽ‰</div>
    <img src="https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExbGYzcnljbDdjMzFudjR5dGdoZnRyeGd5YXg4NGkzN3BxaGswbjk0YSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/kVUyaJy5RZ6OCtRppP/giphy.gif" alt="Love Gif" />
    <div class="confetti" id="confetti"></div>
  </div>

  <script>
    const noBtn = document.getElementById('no');
    const yesBtn = document.getElementById('yes');
    const buttons = document.querySelector('.buttons');
    const mainCard = document.getElementById('mainCard');
    const gifPage = document.getElementById('gifPage');
    const confettiContainer = document.getElementById('confetti');

    const images = [
      'https://i.imgur.com/SzUQQWo.png',
      'https://i.imgur.com/DElnRj0.png',
      'https://i.imgur.com/tUqLuE8.jpeg',
      'https://i.imgur.com/akrXQfp.jpeg',
      'https://i.imgur.com/McUZoDm.jpeg',
      'https://i.imgur.com/8A1sxAz.png',
      'https://i.imgur.com/UD2dYUo.jpeg',
      'https://i.imgur.com/fbbXhG1.png',
      'https://i.imgur.com/5Z01rYB.png',
      'https://i.imgur.com/Nn0UWqb.jpeg',
      'https://i.imgur.com/MmDMkLE.png',
      'https://i.imgur.com/feRUFV1.jpeg',
      'https://i.imgur.com/yhgP8Oi.png',
      'https://i.imgur.com/WmmokGZ.jpeg',
      'https://i.imgur.com/xCYsXCx.png',
      'https://i.imgur.com/3cvYuN3.jpeg'
    ];

    let availableImages = [...images];
    let yesScale = 1;

    const imgEl = document.createElement('img');
    imgEl.style.position = 'absolute';
    imgEl.style.maxWidth = '180px';
    imgEl.style.borderRadius = '14px';
    imgEl.style.boxShadow = '0 10px 25px rgba(0,0,0,0.25)';
    imgEl.style.transition = 'opacity 0.3s ease';
    imgEl.style.opacity = '0';
    imgEl.style.zIndex = '5';
    imgEl.style.pointerEvents = 'none';
    document.body.appendChild(imgEl);

    let noClickCount = 0;

    function moveNoButton() {
      const containerRect = buttons.getBoundingClientRect();
      const btnRect = noBtn.getBoundingClientRect();
      const yesRect = yesBtn.getBoundingClientRect();
      const cardRect = mainCard.getBoundingClientRect();
      const padding = 16;
      const maxX = containerRect.width - btnRect.width;
      const maxY = containerRect.height - btnRect.height;
      let x, y, attempts = 0;

      do {
        x = Math.random() * maxX;
        y = Math.random() * maxY;
        attempts++;
      } while (
        attempts < 50 && (
          (x + btnRect.width + padding > yesRect.left - containerRect.left && x < yesRect.right - containerRect.left + padding && y + btnRect.height + padding > yesRect.top - containerRect.top && y < yesRect.bottom - containerRect.top) ||
          (x + btnRect.width > cardRect.left && x < cardRect.right && y + btnRect.height > cardRect.top && y < cardRect.bottom)
        )
      );

      noBtn.style.left = `${x}px`;
      noBtn.style.top = `${y}px`;
      noBtn.style.transform = 'none';

      if (availableImages.length === 0) availableImages = [...images];
      const idx = Math.floor(Math.random() * availableImages.length);
      imgEl.src = availableImages[idx];
      availableImages.splice(idx, 1);

      // Position image avoiding the card
      let imgX, imgY, attemptsImg = 0;
      do {
        imgX = Math.random() * (window.innerWidth - 180);
        imgY = Math.random() * (window.innerHeight - 180);
        attemptsImg++;
      } while (attemptsImg < 50 && (imgX + 180 > cardRect.left && imgX < cardRect.right && imgY + 180 > cardRect.top && imgY < cardRect.bottom));

      imgEl.style.left = `${imgX}px`;
      imgEl.style.top = `${imgY}px`;
      imgEl.style.opacity = '1';
      clearTimeout(imgEl._timeout);
      imgEl._timeout = setTimeout(() => { imgEl.style.opacity = '0'; }, 1500);

      noClickCount++;
      const scale = 1 + noClickCount * 0.05;
      yesBtn.style.transform = `translateX(-50%) scale(${scale})`;
    }

    function startConfetti() {
      for (let i = 0; i < 150; i++) {
        const piece = document.createElement('div');
        piece.className = 'confetti-piece';
        piece.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
        piece.style.left = `${Math.random() * 100}vw`;
        piece.style.animationDuration = `${2 + Math.random() * 2}s`;
        confettiContainer.appendChild(piece);
      }
    }

    noBtn.addEventListener('click', moveNoButton);
    noBtn.addEventListener('touchstart', moveNoButton);

    yesBtn.addEventListener('click', () => {
      mainCard.style.display = 'none';
      gifPage.style.display = 'block';
      startConfetti();
    });
  </script>
</body>
</html>
